{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "VC Assessment Tool - JSON Schema",
  "description": "Complete schema for the VC funding readiness assessment tool",
  "definitions": {
    "QuestionOption": {
      "type": "object",
      "properties": {
        "value": {
          "type": "integer",
          "description": "Numeric value for this option (0-4)"
        },
        "text": {
          "type": "string",
          "description": "Display text for this option"
        },
        "points": {
          "type": "integer",
          "minimum": 0,
          "maximum": 5,
          "description": "Points awarded for selecting this option"
        }
      },
      "required": ["value", "text", "points"],
      "additionalProperties": false
    },
    "AssessmentCategory": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "description": "Unique category identifier"
        },
        "name": {
          "type": "string",
          "description": "Category name"
        },
        "description": {
          "type": "string",
          "description": "Category description"
        },
        "weight": {
          "type": "integer",
          "minimum": 1,
          "maximum": 50,
          "description": "Category weight in final score calculation"
        },
        "order_index": {
          "type": "integer",
          "description": "Display order of category"
        },
        "is_active": {
          "type": "boolean",
          "description": "Whether category is active"
        }
      },
      "required": ["id", "name", "weight", "order_index"],
      "additionalProperties": false
    },
    "Question": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "description": "Unique question identifier"
        },
        "category_id": {
          "type": "integer",
          "description": "ID of the category this question belongs to"
        },
        "text": {
          "type": "string",
          "description": "The question text"
        },
        "description": {
          "type": "string",
          "description": "Additional context or explanation for the question"
        },
        "type": {
          "type": "string",
          "enum": ["multiple_choice", "scale", "yes_no", "text"],
          "description": "Type of question"
        },
        "weight": {
          "type": "integer",
          "minimum": 1,
          "maximum": 10,
          "description": "Question weight within its category"
        },
        "options": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/QuestionOption"
          },
          "minItems": 2,
          "maxItems": 5,
          "description": "Available answer options"
        },
        "order_index": {
          "type": "integer",
          "description": "Display order within category"
        },
        "is_active": {
          "type": "boolean",
          "description": "Whether question is active"
        }
      },
      "required": ["id", "category_id", "text", "type", "weight", "options", "order_index"],
      "additionalProperties": false
    },
    "AssessmentResponse": {
      "type": "object",
      "patternProperties": {
        "^[0-9]+$": {
          "type": "integer",
          "minimum": 0,
          "maximum": 4,
          "description": "Response value for question ID (key)"
        }
      },
      "additionalProperties": false,
      "description": "Map of question IDs to selected option values"
    },
    "CategoryScore": {
      "type": "object",
      "properties": {
        "score": {
          "type": "number",
          "description": "Raw score for this category"
        },
        "maxScore": {
          "type": "number",
          "description": "Maximum possible score for this category"
        },
        "percentage": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Percentage score for this category"
        },
        "categoryName": {
          "type": "string",
          "description": "Name of the category"
        }
      },
      "required": ["score", "maxScore", "percentage", "categoryName"],
      "additionalProperties": false
    },
    "AssessmentResults": {
      "type": "object",
      "properties": {
        "totalScore": {
          "type": "number",
          "minimum": 0,
          "maximum": 100,
          "description": "Overall assessment score (0-100)"
        },
        "categoryScores": {
          "type": "object",
          "patternProperties": {
            "^[0-9]+$": {
              "$ref": "#/definitions/CategoryScore"
            }
          },
          "description": "Scores broken down by category"
        },
        "percentileRank": {
          "type": "integer",
          "minimum": 1,
          "maximum": 99,
          "description": "Percentile rank compared to other assessments"
        },
        "strengths": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Identified strengths based on scores"
        },
        "weaknesses": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Identified weaknesses based on scores"
        },
        "recommendations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Actionable recommendations for improvement"
        }
      },
      "required": ["totalScore", "categoryScores", "strengths", "weaknesses", "recommendations"],
      "additionalProperties": false
    },
    "Assessment": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer",
          "description": "Unique assessment identifier"
        },
        "user_id": {
          "type": ["integer", "null"],
          "description": "ID of user who took assessment (null for anonymous)"
        },
        "template_id": {
          "type": "integer",
          "description": "ID of assessment template used"
        },
        "session_id": {
          "type": ["string", "null"],
          "description": "Session ID for anonymous users"
        },
        "responses": {
          "$ref": "#/definitions/AssessmentResponse"
        },
        "total_score": {
          "type": ["number", "null"],
          "minimum": 0,
          "maximum": 100,
          "description": "Calculated total score"
        },
        "category_scores": {
          "type": ["object", "null"],
          "description": "Calculated category scores"
        },
        "is_completed": {
          "type": "boolean",
          "description": "Whether assessment is completed"
        },
        "completed_at": {
          "type": ["string", "null"],
          "format": "date-time",
          "description": "When assessment was completed"
        },
        "created_at": {
          "type": "string",
          "format": "date-time",
          "description": "When assessment was created"
        },
        "updated_at": {
          "type": "string",
          "format": "date-time",
          "description": "When assessment was last updated"
        }
      },
      "required": ["id", "template_id", "responses", "is_completed", "created_at", "updated_at"],
      "additionalProperties": false
    },
    "UserProfile": {
      "type": "object",
      "properties": {
        "id": {
          "type": "integer"
        },
        "user_id": {
          "type": "integer"
        },
        "company_name": {
          "type": ["string", "null"]
        },
        "founder_name": {
          "type": ["string", "null"]
        },
        "industry": {
          "type": ["string", "null"],
          "enum": [
            "Technology",
            "Healthcare",
            "Fintech",
            "E-commerce",
            "SaaS",
            "Biotech",
            "CleanTech",
            "EdTech",
            "FoodTech",
            "PropTech",
            "Other"
          ]
        },
        "stage": {
          "type": ["string", "null"],
          "enum": [
            "Idea",
            "Pre-Seed",
            "Seed",
            "Series A",
            "Series B",
            "Series C+",
            "Growth"
          ]
        },
        "website": {
          "type": ["string", "null"],
          "format": "uri"
        },
        "linkedin_url": {
          "type": ["string", "null"],
          "format": "uri"
        },
        "description": {
          "type": ["string", "null"]
        }
      },
      "required": ["id", "user_id"],
      "additionalProperties": false
    }
  },
  "type": "object",
  "properties": {
    "categories": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/AssessmentCategory"
      },
      "description": "Assessment categories with weights"
    },
    "questions": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/Question"
      },
      "description": "All assessment questions"
    },
    "sampleAssessment": {
      "$ref": "#/definitions/Assessment",
      "description": "Example of a completed assessment"
    },
    "sampleResults": {
      "$ref": "#/definitions/AssessmentResults",
      "description": "Example of assessment results"
    }
  },
  "examples": [
    {
      "categories": [
        {
          "id": 1,
          "name": "Market & Opportunity",
          "description": "Market size, growth, and competitive landscape",
          "weight": 25,
          "order_index": 1,
          "is_active": true
        },
        {
          "id": 2,
          "name": "Team & Leadership",
          "description": "Founder experience and team strength",
          "weight": 20,
          "order_index": 2,
          "is_active": true
        }
      ],
      "questions": [
        {
          "id": 1,
          "category_id": 1,
          "text": "What is the total addressable market (TAM) for your solution?",
          "description": "Consider the total market demand for your product or service",
          "type": "multiple_choice",
          "weight": 5,
          "options": [
            {
              "value": 0,
              "text": "Under $100M",
              "points": 0
            },
            {
              "value": 1,
              "text": "$100M - $500M",
              "points": 1
            },
            {
              "value": 2,
              "text": "$500M - $1B",
              "points": 2
            },
            {
              "value": 3,
              "text": "$1B - $10B",
              "points": 4
            },
            {
              "value": 4,
              "text": "Over $10B",
              "points": 5
            }
          ],
          "order_index": 1,
          "is_active": true
        }
      ],
      "sampleAssessment": {
        "id": 1,
        "user_id": 1,
        "template_id": 1,
        "session_id": null,
        "responses": {
          "1": 3,
          "2": 2,
          "3": 4
        },
        "total_score": 75.5,
        "category_scores": {
          "1": {
            "score": 85,
            "maxScore": 100,
            "percentage": 85.0,
            "categoryName": "Market & Opportunity"
          }
        },
        "is_completed": true,
        "completed_at": "2024-01-15T10:30:00Z",
        "created_at": "2024-01-15T10:00:00Z",
        "updated_at": "2024-01-15T10:30:00Z"
      },
      "sampleResults": {
        "totalScore": 75.5,
        "categoryScores": {
          "1": {
            "score": 85,
            "maxScore": 100,
            "percentage": 85.0,
            "categoryName": "Market & Opportunity"
          },
          "2": {
            "score": 70,
            "maxScore": 100,
            "percentage": 70.0,
            "categoryName": "Team & Leadership"
          }
        },
        "percentileRank": 78,
        "strengths": [
          "Market & Opportunity is your strongest area",
          "Strong market & opportunity with 85% score",
          "Good team & leadership foundation"
        ],
        "weaknesses": [
          "Team & Leadership has room for improvement"
        ],
        "recommendations": [
          "You have a strong foundation for VC fundraising",
          "Consider expanding your advisory board with industry experts",
          "Focus on perfecting your pitch and identifying the right investor fit"
        ]
      }
    }
  ]
}
